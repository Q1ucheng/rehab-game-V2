<div align="center">

# åº·å¤å¹³è¡¡è®­ç»ƒæ¸¸æˆ

åŸºäºReactå’ŒThree.jså¼€å‘çš„3Dåº·å¤å¹³è¡¡è®­ç»ƒæ¸¸æˆï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œä¸Šè‚¢åº·å¤è®­ç»ƒã€‚

[![React](https://img.shields.io/badge/React-19.2.0-blue)](https://reactjs.org/)
[![Three.js](https://img.shields.io/badge/Three.js-0.181.2-green)](https://threejs.org/)
[![Firebase](https://img.shields.io/badge/Firebase-12.6.0-orange)](https://firebase.google.com/)

</div>

## ğŸ® åŠŸèƒ½ç‰¹æ€§

- **3Dç‰©ç†å¼•æ“æ¸¸æˆ** - åŸºäºCannon.jsçš„é€¼çœŸç‰©ç†æ¨¡æ‹Ÿ
- **å®æ—¶è¿åŠ¨æ•°æ®è®°å½•** - è®°å½•ç”¨æˆ·è®­ç»ƒæ•°æ®å¹¶åˆ†æ
- **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - Firebaseèº«ä»½éªŒè¯
- **è®­ç»ƒæ•°æ®åˆ†æ** - å¯è¾¾ç©ºé—´åˆ†æå’Œ3Då¯è§†åŒ–
- **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å¤šéš¾åº¦è®¾ç½®** - å¯è°ƒèŠ‚æ¸¸æˆéš¾åº¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** (ç‰ˆæœ¬ 18.0.0 æˆ–æ›´é«˜)
- **npm** (é€šå¸¸éšNode.jsä¸€èµ·å®‰è£…)
- **Python 3.7+** (ç”¨äºæ•°æ®åˆ†ææœåŠ¡å™¨)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Q1ucheng/rehab-game-V2.git
cd rehab-game-V2
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿æ–‡ä»¶ï¼š

```bash
copy .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„Firebaseé¡¹ç›®ä¿¡æ¯ï¼š

```env
VITE_FIREBASE_API_KEY=ä½ çš„Firebase_APIå¯†é’¥
VITE_FIREBASE_AUTH_DOMAIN=ä½ çš„é¡¹ç›®.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=ä½ çš„é¡¹ç›®ID
VITE_FIREBASE_STORAGE_BUCKET=ä½ çš„é¡¹ç›®.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=ä½ çš„å‘é€è€…ID
VITE_FIREBASE_APP_ID=ä½ çš„åº”ç”¨ID
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173 æŸ¥çœ‹åº”ç”¨

## ğŸ”§ å¯é€‰ï¼šå¯åŠ¨æ•°æ®åˆ†ææœåŠ¡å™¨

é¡¹ç›®åŒ…å«ä¸€ä¸ªPythonæ•°æ®åˆ†ææœåŠ¡å™¨ï¼Œç”¨äºå¤„ç†è®­ç»ƒæ•°æ®ï¼š

### å®‰è£…Pythonä¾èµ–

```bash
pip install websockets asyncio
```

### å¯åŠ¨æ•°æ®åˆ†ææœåŠ¡å™¨

```bash
python data_recorder_server.py
```

æœåŠ¡å™¨å°†åœ¨ç«¯å£ 8765 å¯åŠ¨ï¼Œç”¨äºæ¥æ”¶å’Œå¤„ç†è®­ç»ƒæ•°æ®ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„
```
rehab-game/
â”œâ”€â”€ ğŸ“ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬é…ç½®
â”‚   â”œâ”€â”€ package-lock.json         # ä¾èµ–é”å®šæ–‡ä»¶
â”‚   â”œâ”€â”€ tsconfig.json             # TypeScripté…ç½®
â”‚   â”œâ”€â”€ vite.config.ts            # Viteæ„å»ºå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡ï¼ˆåŒ…å«Firebaseé…ç½®ï¼‰
â”‚   â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥è§„åˆ™
â”‚   â””â”€â”€ metadata.json             # é¡¹ç›®å…ƒæ•°æ®
â”‚
â”œâ”€â”€ ğŸ“ æºä»£ç  (src/)
â”‚   â”œâ”€â”€ App.tsx                   # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ index.tsx                 # åº”ç”¨å…¥å£ç‚¹
â”‚   â”œâ”€â”€ index.html                # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ types.ts                  # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/            # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Game/              # æ¸¸æˆç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ GameScene.tsx     # æ¸¸æˆåœºæ™¯ä¸»ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Ball.tsx          # çƒä½“ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Platform.tsx      # å¹³å°ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ParticleEffect.tsx # ç²’å­æ•ˆæœç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“ UI/                # ç”¨æˆ·ç•Œé¢ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ AuthScreen.tsx    # è®¤è¯ç•Œé¢
â”‚   â”‚       â”œâ”€â”€ Dashboard.tsx     # ä»ªè¡¨æ¿
â”‚   â”‚       â”œâ”€â”€ HUD.tsx           # æ¸¸æˆå†…HUD
â”‚   â”‚       â”œâ”€â”€ DifficultySettingsModal.tsx  # éš¾åº¦è®¾ç½®æ¨¡æ€æ¡†
â”‚   â”‚       â”œâ”€â”€ TrainingDataUpload.tsx       # è®­ç»ƒæ•°æ®ä¸Šä¼ 
â”‚   â”‚       â”œâ”€â”€ TrainingDetailsModal.tsx     # è®­ç»ƒè¯¦æƒ…æ¨¡æ€æ¡†
â”‚   â”‚       â””â”€â”€ TrainingResults.tsx          # è®­ç»ƒç»“æœå±•ç¤º
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/              # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ firebase.ts           # FirebaseæœåŠ¡é…ç½®
â”‚   â”‚   â”œâ”€â”€ dataRecorder.ts       # æ•°æ®è®°å½•æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ inputController.ts    # è¾“å…¥æ§åˆ¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ reachableSpaceAnalyzer.ts  # å¯è¾¾ç©ºé—´åˆ†ææœåŠ¡
â”‚   â”‚   â””â”€â”€ trainingDataService.ts     # è®­ç»ƒæ•°æ®æœåŠ¡
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ store/                 # çŠ¶æ€ç®¡ç†
â”‚       â””â”€â”€ useStore.ts           # ZustandçŠ¶æ€å­˜å‚¨
â”‚
â”œâ”€â”€ ğŸ“ æœåŠ¡å™¨è„šæœ¬
â”‚   â”œâ”€â”€ data_recorder_server.py   # Pythonæ•°æ®è®°å½•æœåŠ¡å™¨
â”‚   â”œâ”€â”€ analyze-server.js         # æ•°æ®åˆ†ææœåŠ¡å™¨
â”‚   â””â”€â”€ demo.py                   # æ¼”ç¤ºè„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ é™æ€èµ„æº
â”‚   â”œâ”€â”€ ğŸ“ public/                # å…¬å…±èµ„æºç›®å½•
â”‚   â”‚   â””â”€â”€ ğŸ“ traindata/         # ç¤ºä¾‹è®­ç»ƒæ•°æ®
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ traindata/             # æœ¬åœ°è®­ç»ƒæ•°æ®å­˜å‚¨ï¼ˆå·²æ’é™¤åœ¨Gitä¸­ï¼‰
â”‚       â””â”€â”€ ğŸ“ yyFl2x0Q5OfnUTDlYo5pN32Mk1r1/
â”‚           â”œâ”€â”€ Wayne_20251214_01.json
â”‚           â”œâ”€â”€ Wayne_20251228_01.json
â”‚           â”œâ”€â”€ Wayne_20251228_02.json
â”‚           â””â”€â”€ Wayne_20260104_01.json
â”‚
â”œâ”€â”€ ğŸ“ æ„å»ºå’Œéƒ¨ç½²
â”‚   â”œâ”€â”€ setup.bat                 # Windowsç¯å¢ƒè®¾ç½®è„šæœ¬
â”‚   â””â”€â”€ start.bat                 # Windowså¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ node_modules/              # Node.jsä¾èµ–åŒ…ï¼ˆå·²æ’é™¤åœ¨Gitä¸­ï¼‰
â”‚   â”œâ”€â”€ @react-three/             # React Three.jsç”Ÿæ€
â”‚   â”‚   â”œâ”€â”€ cannon/               # ç‰©ç†å¼•æ“ç»‘å®š
â”‚   â”‚   â”œâ”€â”€ drei/                 # è¾…åŠ©å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ fiber/                # Reactæ¸²æŸ“å™¨
â”‚   â”œâ”€â”€ three/                    # 3Då›¾å½¢åº“
â”‚   â”œâ”€â”€ firebase/                 # Firebase SDK
â”‚   â”œâ”€â”€ zustand/                  # çŠ¶æ€ç®¡ç†åº“
â”‚   â””â”€â”€ ... (å…¶ä»–ä¾èµ–)
â”‚
â””â”€â”€ ğŸ“ .vite/                     # Viteæ„å»ºç¼“å­˜ï¼ˆå·²æ’é™¤åœ¨Gitä¸­ï¼‰
```

## ğŸ“Š æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 19.2.0 + TypeScript
- **3Då›¾å½¢**: Three.js + React Three Fiber
- **ç‰©ç†å¼•æ“**: Cannon.js
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ„å»ºå·¥å…·**: Vite
- **åç«¯æœåŠ¡**: Firebase (è®¤è¯ã€æ•°æ®åº“)
- **æ•°æ®åˆ†æ**: Python + WebSocket

## ğŸ¯ æ¸¸æˆç©æ³•

1. **ç”¨æˆ·è®¤è¯** - ä½¿ç”¨Firebaseç™»å½•ç³»ç»Ÿ
2. **é€‰æ‹©éš¾åº¦** - è®¾ç½®æ¸¸æˆéš¾åº¦çº§åˆ«
3. **å¼€å§‹è®­ç»ƒ** - æ§åˆ¶çƒä½“åœ¨3Dç©ºé—´ä¸­ç§»åŠ¨
4. **æ•°æ®è®°å½•** - ç³»ç»Ÿè‡ªåŠ¨è®°å½•è¿åŠ¨æ•°æ®
5. **æŸ¥çœ‹ç»“æœ** - åˆ†æè®­ç»ƒæ•ˆæœå’Œè¿›æ­¥

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# éƒ¨ç½²åˆ°GitHub Pages
npm run deploy
```

## ğŸ“ ç¯å¢ƒé…ç½®è¯´æ˜

### Firebaseé…ç½®

1. å‰å¾€ [Firebaseæ§åˆ¶å°](https://console.firebase.google.com/)
2. åˆ›å»ºæ–°é¡¹ç›®æˆ–ä½¿ç”¨ç°æœ‰é¡¹ç›®
3. å¯ç”¨Authenticationå’ŒFirestoreæ•°æ®åº“
4. è·å–é¡¹ç›®é…ç½®ä¿¡æ¯å¹¶å¡«å…¥`.env`æ–‡ä»¶

### è®­ç»ƒæ•°æ®

- è®­ç»ƒæ•°æ®å­˜å‚¨åœ¨ `traindata/` æ–‡ä»¶å¤¹ä¸­
- è¯¥æ–‡ä»¶å¤¹å·²è¢«æ’é™¤åœ¨Gitç‰ˆæœ¬æ§åˆ¶ä¹‹å¤–
- æ•°æ®æ ¼å¼ä¸ºJSONï¼ŒåŒ…å«ç”¨æˆ·è®­ç»ƒè®°å½•

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¯åŠ¨æ—¶å‡ºç°Firebaseé”™è¯¯
A: æ£€æŸ¥`.env`æ–‡ä»¶ä¸­çš„Firebaseé…ç½®æ˜¯å¦æ­£ç¡®

### Q: 3Dåœºæ™¯æ— æ³•åŠ è½½
A: ç¡®ä¿æµè§ˆå™¨æ”¯æŒWebGLï¼Œå¹¶æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### Q: æ•°æ®åˆ†ææœåŠ¡å™¨æ— æ³•å¯åŠ¨
A: ç¡®ä¿Pythonå·²å®‰è£…ï¼Œå¹¶æ£€æŸ¥ç«¯å£8765æ˜¯å¦è¢«å ç”¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

<div align="center">

**å¼€å§‹ä½ çš„åº·å¤è®­ç»ƒä¹‹æ—…å§ï¼** ğŸ®

</div>